.button {
  display: inline-flex;
  justify-content: flex-start;
  align-items: center;
  padding: $btn-padding-y $btn-padding-x;
  font-variant-ligatures: none;
  font-variant: none;
  font-size: $btn-font-size;
  font-weight: $btn-font-weight;
  line-height: $btn-line-height;
  letter-spacing: $btn-letter-spacing;
  text-decoration: none !important;
  text-align: left;
  transition: $btn-transition;
  border-radius: $btn-border-radius;
  border-width: $btn-border-width;
  border-style: solid;
  cursor: pointer;

  // See mixins/_buttons.scss for vars
  background-color: css-var(btn-bg);
  border-color: css-var(btn-border);
  color: css-var(btn-color);
  box-shadow: css-var(btn-box-shadow);

  &:focus,
  &:focus-visible {
    outline: $focus-outline-style;
    outline-offset: $focus-outline-offset;
  }

  &:focus:not(:focus-visible) {
    outline: 0;
  }

  svg {
    fill: currentColor;
    margin-left: $gutter * 0.75;
    transform: scale(1);
    transform-origin: 50% 50%;
    will-change: transform;
    backface-visibility: hidden;
    transition: transform $timing-lg $ease-out, fill $timing-md $ease-out;
  }

  &__primary {
    @include button-variant(
      $secondary,
      $secondary,
      $white,
      $btn-box-shadow,
      $primary-alt,
      $primary-alt,
      $white,
      $btn-hover-box-shadow,
      darken($primary-alt, 2.5%),
      darken($primary-alt, 2.5%),
      $white,
      $btn-active-box-shadow,
      $black,
      $black,
      $white,
      none
    );
  }

  &__primaryOnDark {
    @include button-variant(
      $white,
      $white,
      $secondary,
      $btn-box-shadow,
      $secondary,
      $secondary,
      $white,
      $btn-hover-box-shadow,
      darken($secondary, 2.5%),
      darken($secondary, 2.5%),
      $white,
      $btn-active-box-shadow,
      $white,
      $white,
      $black,
      none
    );
  }

  &__secondary {
    @include button-variant(
      rgba($secondary, 0),
      $secondary,
      $secondary,
      $btn-box-shadow,
      rgba($secondary, 1),
      $secondary,
      $white,
      $btn-hover-box-shadow,
      darken($secondary, 5%),
      darken($secondary, 5%),
      $white,
      $btn-active-box-shadow,
      rgba($black, 0),
      $black,
      $black,
      none
    );
    svg {
      color: $secondary;
    }
    @include hover-state() {
      svg {
        fill: $white;
      }
    }
  }

  &__secondaryOnDark {
    @include button-variant(
      rgba($white, 0),
      $white,
      $white,
      $btn-box-shadow,
      rgba($white, 1),
      $white,
      $secondary,
      $btn-hover-box-shadow,
      darken($white, 5%),
      darken($white, 5%),
      $primary,
      $btn-active-box-shadow,
      rgba($black, 0),
      $white,
      $white,
      none
    );
    @include hover-state() {
      svg {
        fill: $secondary;
      }
    }
  }

  &__tertiary,
  &__tertiaryOnDark,
  &__link,
  &__linkOnDark {
    padding: 0;
    background-color: none;
    border: none;
    border-radius: 0;
    box-shadow: none;
  }

  &__tertiary,
  &__link {
    @include make-css-var(btn-color, $primary);
    @include make-css-var(btn-hover-color, $primary);
    @include make-css-var(btn-active-color, $secondary);
    @include make-css-var(btn-disabled-color, $black);
    &:not(:disabled):not(.disabled) {
      svg {
        fill: $secondary;
      }
      @include hover-state() {
        svg {
          fill: $accent;
        }
      }
    }
  }

  &__tertiaryOnDark,
  &__linkOnDark {
    @include make-css-var(btn-color, $white);
    @include make-css-var(btn-hover-color, $white);
    @include make-css-var(btn-active-color, darken($white, 5%));
    @include make-css-var(btn-disabled-color, $white);
    &:not(:disabled):not(.disabled) {
      svg {
        fill: $accent;
      }
      @include hover-state() {
        svg {
          fill: $tertiary;
        }
      }
    }
  }

  @include hover-state() {
    background-color: css-var(btn-hover-bg);
    border-color: css-var(btn-hover-border);
    color: css-var(btn-hover-color);
    box-shadow: css-var(btn-hover-box-shadow);
    svg {
      transform: scale(1.12);
    }
  }

  @include active-state() {
    background-color: css-var(btn-active-bg);
    border-color: css-var(btn-active-border);
    color: css-var(btn-active-color);
    box-shadow: css-var(btn-active-box-shadow);
    transition: $btn-transition-active;
    svg {
      transform: scale(0.98);
      transition: transform $timing-md $ease-out, fill $timing-md $ease-out;
    }
  }

  &:disabled,
  &.disabled {
    background-color: css-var(btn-disabled-bg);
    border-color: css-var(btn-disabled-border);
    color: css-var(btn-disabled-color);
    box-shadow: css-var(btn-disabled-box-shadow);
    pointer-events: none;
    cursor: not-allowed;
    opacity: $btn-disabled-opacity;
  }
}
